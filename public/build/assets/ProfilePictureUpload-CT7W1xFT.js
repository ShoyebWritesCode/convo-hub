import{o as i,f as n,t as u,g as p,b as r,d as c,n as g,y,T as x,a as d,u as a,w as _}from"./app-BYsSabO3.js";import{_ as b}from"./InputError-DDwO6WKk.js";import{_ as h}from"./SecondaryButton-D4_jEV1e.js";import{P as v}from"./PrimaryButton-BjgKfi4k.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={props:{modelValue:File,label:String,accept:String,errors:{type:Array,default:()=>[]}},emits:["update:modelValue"],watch:{modelValue(o){o||(this.$refs.file.value="")}},methods:{filesize(o){var l=Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,l)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][l]},browse(){this.$refs.file.click()},change(o){this.$emit("update:modelValue",o.target.files[0])},remove(){this.$emit("update:modelValue",null)}}},w={key:0,class:"form-label"},B=["accept"],C={key:0,class:"p-2"},P={key:1,class:"flex items-center justify-between p-2"},F={class:"flex-1 pr-1"},M={class:"text-gray-500 text-xs"},S={key:1,class:"form-error"};function D(o,l,t,f,m,e){return i(),n("div",null,[t.label?(i(),n("label",w,u(t.label)+":",1)):p("",!0),r("div",{class:g(["form-input p-0",{error:t.errors.length}])},[r("input",{ref:"file",type:"file",accept:t.accept,class:"hidden",onChange:l[0]||(l[0]=(...s)=>e.change&&e.change(...s))},null,40,B),t.modelValue?(i(),n("div",P,[r("div",F,[c(u(t.modelValue.name)+" ",1),r("span",M,"("+u(e.filesize(t.modelValue.size))+")",1)]),r("button",{type:"button",class:"px-4 py-1 text-white text-xs font-medium bg-gray-500 hover:bg-gray-700 rounded-sm",onClick:l[2]||(l[2]=(...s)=>e.remove&&e.remove(...s))},"Remove")])):(i(),n("div",C,[r("button",{type:"button",class:"px-4 py-1 text-white text-xs font-medium bg-gray-500 hover:bg-gray-700 rounded-sm",onClick:l[1]||(l[1]=(...s)=>e.browse&&e.browse(...s))},"Browse")]))],2),t.errors.length?(i(),n("div",S,u(t.errors[0]),1)):p("",!0)])}const N=k(V,[["render",D]]),U={class:"space-y-6"},z={class:"mt-4"},I={class:"mt-6 flex justify-end"},R={__name:"ProfilePictureUpload",setup(o){const l=y(null),t=x({profile_picture:null}),f=()=>{new FormData().append("profile_picture",t.profile_picture),t.post(route("profile.picture.upload"),{preserveScroll:!0,data:{profile_picture:t.profile_picture},onSuccess:()=>{console.log("hi")},onError:e=>{console.log(e)},onFinish:()=>t.reset()})};return(m,e)=>(i(),n("section",U,[e[5]||(e[5]=r("header",null,[r("h2",{class:"text-lg font-medium text-gray-900"},"Profile Picture"),r("p",{class:"mt-1 text-sm text-gray-600"}," Upload a new profile picture or keep your current one. ")],-1)),r("div",z,[d(N,{type:"file",ref_key:"fileInput",ref:l,class:"block w-full text-sm text-gray-600",accept:"image/*",onChange:e[0]||(e[0]=s=>a(t).profile_picture=s.target.files[0]),modelValue:a(t).profile_picture,"onUpdate:modelValue":e[1]||(e[1]=s=>a(t).profile_picture=s)},null,8,["modelValue"]),d(b,{message:a(t).errors.profile_picture,class:"mt-2"},null,8,["message"])]),r("div",I,[d(h,{onClick:e[2]||(e[2]=s=>{l.value.value=null,a(t).reset()})},{default:_(()=>e[3]||(e[3]=[c("Cancel")])),_:1}),d(v,{class:g(["ms-3",{"opacity-25":a(t).processing}]),disabled:a(t).processing,onClick:f},{default:_(()=>e[4]||(e[4]=[c(" Upload ")])),_:1},8,["class","disabled"])])]))}};export{R as default};
